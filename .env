# ===================================
# CONNECT AITU - Environment Variables
# ===================================

# ---- Application ----
APP_NAME="Connect AITU"
APP_VERSION="1.0.0"
DEBUG=False
ENVIRONMENT=production

# Domain
DOMAIN=connect-aitu.me
BACKEND_URL=https://connect-aitu.me/api

# CORS (для фронтенда)
CORS_ORIGINS=https://connect-aitu.me,https://www.connect-aitu.me

# ---- Database (PostgreSQL) ----
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_USER=connect_user
POSTGRES_PASSWORD=YOUR_STRONG_PASSWORD_HERE_CHANGE_THIS
POSTGRES_DB=connect_aitu_db

# Database URL (формируется автоматически, но можно переопределить)
DATABASE_URL=postgresql+asyncpg://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# ---- Redis ----
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Redis URL
REDIS_URL=redis://${REDIS_HOST}:${REDIS_PORT}/${REDIS_DB}

# ---- Celery (RabbitMQ) ----
RABBITMQ_HOST=rabbitmq
RABBITMQ_PORT=5672
RABBITMQ_USER=connect_user
RABBITMQ_PASSWORD=YOUR_RABBITMQ_PASSWORD_HERE_CHANGE_THIS

# Celery Broker URL
CELERY_BROKER_URL=amqp://${RABBITMQ_USER}:${RABBITMQ_PASSWORD}@${RABBITMQ_HOST}:${RABBITMQ_PORT}//
CELERY_RESULT_BACKEND=redis://${REDIS_HOST}:${REDIS_PORT}/1

# ---- Security ----
# Сгенерировать: openssl rand -hex 32
SECRET_KEY=YOUR_SECRET_KEY_HERE_CHANGE_THIS_USE_OPENSSL_RAND_HEX_32
ALGORITHM=HS256

# JWT tokens (в минутах)
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# ---- Rate Limiting ----
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_BURST=100

# ---- Exam Settings ----
# Свободный режим
PRACTICE_QUESTIONS_PER_PAGE=20
PRACTICE_SESSION_TTL_DAYS=7

# Экзамены
EXAM_AUTO_SUBMIT_BUFFER_MINUTES=5
EXAM_SESSION_TTL_HOURS=24

# Профильная магистратура
PROFILE_EXAM_QUESTIONS=50
PROFILE_EXAM_SUBJECT1=30
PROFILE_EXAM_SUBJECT2=20
PROFILE_EXAM_TIME_MINUTES=90

# Научно-педагогическая магистратура
SCIENTIFIC_EXAM_QUESTIONS=130
SCIENTIFIC_EXAM_FOREIGN=50
SCIENTIFIC_EXAM_TGO=30
SCIENTIFIC_EXAM_PROFILE=50
SCIENTIFIC_EXAM_TIME_MINUTES=180

# ---- Proctoring ----
PROCTORING_ENABLED=True
PROCTORING_SUSPICIOUS_THRESHOLD=10

# ---- Admin ----
# Первый админ (создается автоматически при инициализации)
FIRST_ADMIN_USERNAME=admin
FIRST_ADMIN_PASSWORD=YOUR_ADMIN_PASSWORD_HERE_CHANGE_THIS
FIRST_ADMIN_FULLNAME=Администратор

# ---- Logging ----
LOG_LEVEL=INFO
LOG_FORMAT=json

# ---- SSL (Let's Encrypt) ----
LETSENCRYPT_EMAIL=admin@connect-aitu.me

# ---- Backup ----
BACKUP_ENABLED=True
BACKUP_SCHEDULE=0 2 * * *  # Каждый день в 2:00 AM
